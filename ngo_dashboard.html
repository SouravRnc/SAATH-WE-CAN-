<!DOCTYPE html>
<html>
<head>


	<script type="text/javascript">
		function updateScroll(){
    		var element = document.getElementById("alltext");
    		element.scrollTop = element.scrollHeight;
		}



	</script>


		<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>



<script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBypGEylbI-CmyR6VWObQdtwwX-epET0A4",
    authDomain: "saath-ee442.firebaseapp.com",
    databaseURL: "https://saath-ee442.firebaseio.com",
    projectId: "saath-ee442",
    storageBucket: "gs://saath-ee442.appspot.com",
    messagingSenderId: "964798793282"
  };
  firebase.initializeApp(config);

  

	var database = firebase.database();

window.onload = function(){
	//have to make it grouped .. so getting email-msg combination is imp..
	var messageRef = database.ref('/delivery');
	//var hr = document.createElement("<hr>");
	var i=1;
	
	
	messageRef.on('child_added', function(snapshot) {
      //Do something with the data
      snapshot.forEach(function(childSnapshot) {
      	var childData = childSnapshot.val();
    	var div5 = document.createElement('div');  	
      	var div1 = document.createElement('div');
      	var div2 = document.createElement('div');
      	var div3 = document.createElement('div');
      	var div4 = document.createElement('div');
	  	if(i%4==1){
	  		div1.textContent="Donator: "+childData;
	  		div5.appendChild(div1);
	  		document.getElementById("delivery_info").appendChild(div5);
	  	}

	  	if(i%4==2){
	  		div2.textContent="Delivery Personnel: "+childData;
	  		div5.appendChild(div2);
	  		document.getElementById("delivery_info").appendChild(div5);
	  	}

	  	if(i%4==3){
	  		div3.textContent="Quantity: "+childData;
	  		div5.appendChild(div3);
	  		document.getElementById("delivery_info").appendChild(div5);
	  	}

	  	if(i%4==0){
	  		div4.textContent="Type: "+childData;
	  		div5.appendChild(div4);
	  		document.getElementById("delivery_info").appendChild(div5);
	  		div5.style.borderBottom = "2px solid black";
	  	}
	  		
	  	  	i=i+1;
	  	
	  	
		updateScroll();
    });
  });
}

</script>

	
	

	<script type="text/javascript">
		function ngo_go_profile() {
			// body...
			window.location.replace("http://192.168.43.198:8000/ngo_profile")
		}
		// function ngo_go_contri() {
		// 	// body...
		// 	window.location.replace("http://192.168.42.118:8000/ngo_contri")
		// }
		// function ngo_go_donate() {
		// 	// body...
		// 	window.location.replace("http://192.168.42.118:8000/ngo_donate")
		// }
		function ngo_go_chat() {
			// body...
			window.location.replace("http://192.168.43.198:8000/chat")
		}
		function ngo_go_contact() {
			// body...
			window.location.replace("http://192.168.43.198:8000/contact_us")
		}

	</script>




	<style type="text/css">
		.top_menus{
			margin-top: 10px;
			height: 50px;
			font-size: 25px;
			width: 100%;
		}

		.top_menus_table{
			width: 100%;
			border: 4px solid black;
			/*padding: 5px;*/
			border-radius: 25%;
		}

		th{
			padding: 15px 25px;
		   	font-size: 24px;
  			text-align: center;
  			cursor: pointer;
  			outline: none;
  			color: #fff;
  			background-color: #4CAF50;
  			border: none;
  			border-radius: 15px;
  			box-shadow: 0 9px #999;
  			width: 10%;
		}

		th:hover{
			background-color: #3e8e41
		}

		th:active{
			background-color: #3e8e41;
  			box-shadow: 0 5px #666;
  			transform: translateY(4px);	
		}

		.user_info_area{
			color: white;

		}

		a{
			color: black;
		}

		a:hover{
			color: red;
		}

		#user_image{
			border-radius: 50%;
			margin-left: 80px;
			height: 100px;
			width: 100px;
			border: 1px solid black;
			margin-left: 0px;
		}

		.column1{
			margin-top: 50px;
			width: 20%;
			height: 100%;
			background-color: #dddddd;
			float: left;
		}


	.dropbtn {
    	background-color:  #4CAF50;
    	color: white;
    	padding: 16px;
    	font-size: 16px;
    	border: none;
    	cursor: pointer;
	}

	.dropbtn:hover,  {
	    background-color: #3e8e41;
	}

	.dropbtn:active{
			background-color: #3e8e41;
	}

	.dropdown {
    	position: relative;
    	display: inline-block;
    	width: 250px;
	}

	.dropdown-content {
    	display: none;
    	position: absolute;
    	background-color: #f1f1f1;
    	min-width: 160px;
    	overflow: auto;
    	box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    	z-index: 1;
    	/*width: 100%;*/
	}

	.dropdown-content a {
    	color: black;
    	padding: 12px 16px;
    	text-decoration: none;
    	display: block;
	}

	.dropdown a:hover {background-color: #ddd;}

	.show {display: block;}	


		#col1_settings{
			float: left;
			border: 1px solid black;
			color: black;
		}

		#col1_logout{
			float: right;
			border: 1px solid black;
			color: black;
		}

		/*.vert_line{
			border-left: 5px solid black;
			height: 500px;
			margin-left: 275px;
			margin-top: 5px;
		}*/

		.horz_line{
			border-top: 5px solid black;
			margin-top: 50px;
			width: 100%;
		}

		.top_img{
			border-radius: 10%;
		}

	</style>
	<title>Home_Page</title>
</head>
<body>
	<div class="top_img"><img src="/static/banner.jpg" height="200px" width="100%"></div>

	<div class="top_menus">
		<table id="top_menus_table">
			<tr>
				<th name="profile" id="profile" class="dropbtn" onclick="myFunction()">
					<div class="dropdown">
						<!-- <button onclick="myFunction()" class="dropbtn">Profile</button> -->
  						<div id="myDropdown" style="width: 200%" class="dropdown-content">

    					<a href="#home"><p style="left: 10px;">WELCOME: 
							<span id="user_email">
							{% for key in result %}
							{{ key[0] }}
							{% endfor %}
							</span>
							</p></a>
    					<a href="#about"><img align="center" id="user_image" src="/static/user-image.jpg"></a>
    					<a href="#Settings">Go to Settings</a>
    					<br>
    					<a href="http://192.168.43.198:8000/tologin">Logout</a>
    				</div>
				</div>
					<center>Profile</center>
				</th>

				<th name="chat" id="chat" onclick="ngo_go_chat()">Chat</th>
				<th name="contact_us" id="contact_us" onclick="ngo_go_contact()">Contact Us</th>
				
			</tr>
		</table>
	</div>
	<div class="horz_line"></div>
	<div class="columns">

		
		
	<div id="delivery_info" style="width: 90%; overflow-y: scroll;">
</body>
</html>